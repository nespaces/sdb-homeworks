 # Домашнее задание к занятию «Резервное копирование баз данных» - `Коробов Евгений`

### Задание 1. Резервное копирование
Кейс

Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования.

Необходимо описать, какие варианты резервного копирования подходят в случаях:

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.
### Ответ
1.1. Чтобы восстановить данные за предыдущий день, компания может сделать ежедневные полные резервные копии базы данных и также инкрементные резервные копии каждые 6 или 12 часов. Это поможет минимизировать потери данных, если что-то пойдет не так. Также можно хранить резервные копии на другом сервере или в облаке.

1.2. Чтобы восстановить данные за час до поломки, нужно использовать резервные копии, сделанные каждый час или в режиме реального времени. Это поможет восстановить последние изменения данных и сохранить данные, которые были потеряны в результате поломки.

1.3.* Если нужно моментально переключиться на работающую базу данных при поломке, компания может использовать кластеризацию серверов, репликацию баз данных и двойное зеркалирование данных. 

## Задание 2. PostgreSQL
2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

2.1.* Возможно ли автоматизировать этот процесс? Если да, то как?

### Ответ
2.1. `pgdump` используется для создания резервной копии БД в файле, а `pgrestore` используется для восстановления БД из файла.

2.1.* Возможно используя cron (Linux) или Task Scheduler (Windows) для запуска скриптов pg_dump и pg_restore по расписанию.

Написание скриптов на языках программирования (например, Python, Bash, PowerShell), которые будут выполнять команды pg_dump и pg_restore, и запускать эти скрипты по расписанию или вручную.

Использование специализированных инструментов для управления резервными копиями PostgreSQL, таких как pgBackRest или Barman. Эти инструменты могут обеспечить более надежный и безопасный процесс создания резервных копий и восстановления базы данных, а также позволяют управлять хранением и архивацией бэкапов, мониторингом состояния базы данных.
### Ответ
### Задание 3. MySQL
3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL.

3.1.* В каких случаях использование реплики будет давать преимущество по сравнению с обычным резервным копированием?
### Ответ
3.1. Пример команды инкрементного резервного копирования базы данных MySQL: `mysqldump --user=username --password=password --single-transaction --flush-logs --master-data=2 dbname > backup-$(date +%F).sql`.

3.1.* Использование реплики в MySQL дает преимущества в быстром доступе к данным и минимальном времени простоя при сбое, возможности распределения нагрузки на несколько серверов и возможность быстрого переключения на работу с репликой в случае сбоя.
